<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ ¡åœ’æ„›å¿ƒåœ’éŠæœƒï¼šå°å°åŸ·è¡Œé•·çš„æŒ‘æˆ°</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');

        :root {
            --brand-color: #ff6f00; /* Amber 900 */
            --accent-color: #ffca28; /* Amber 400 */
            --bg-color: #fff8e1;     /* Amber 50 */
            --card-bg: #ffffff;
            --text-color: #3e2723;   /* Brown 900 */
            --success-color: #43a047;
            --error-color: #d32f2f;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent; 
        }

        .container {
            background-color: var(--card-bg);
            width: 100%;
            max-width: 900px;
            padding: 30px;
            border-radius: 30px;
            box-shadow: 0 15px 35px rgba(62, 39, 35, 0.1);
            position: relative;
            padding-bottom: 80px;
            overflow: hidden;
        }

        /* è£é£¾æ€§æ¨™é¡Œ */
        h1 {
            text-align: center;
            color: var(--brand-color);
            margin-bottom: 5px;
            font-size: 2.2em;
            font-weight: 900;
            text-shadow: 2px 2px 0px rgba(255, 202, 40, 0.3);
        }

        .subtitle {
            text-align: center;
            color: #8d6e63;
            font-size: 1.1em;
            margin-bottom: 30px;
            font-weight: bold;
            letter-spacing: 1px;
        }

        /* é€²åº¦æ¢è¨­è¨ˆ */
        .progress-container {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            background: #fff;
            padding: 10px 15px;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .progress-label {
            font-size: 0.9em;
            font-weight: 900;
            color: var(--brand-color);
            margin-right: 15px;
            white-space: nowrap;
        }

        .progress-bar {
            flex-grow: 1;
            background-color: #ffecb3;
            border-radius: 20px;
            height: 12px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--brand-color));
            width: 0%;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
        }

        /* æƒ…å¢ƒå€å¡Š */
        .scenario-box {
            background-color: #fff;
            border: 3px solid #ffe082;
            padding: 0;
            border-radius: 20px;
            margin-bottom: 30px;
            font-size: 1.15em;
            line-height: 1.8;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0,0,0,0.05);
        }

        .scenario-image-container {
            width: 100%;
            height: 250px;
            position: relative;
            background-color: #eeeeee;
            overflow: hidden;
        }

        .scenario-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.5s;
        }

        .scenario-image:hover {
            transform: scale(1.02);
        }

        .scenario-content {
            padding: 30px;
            background: linear-gradient(to bottom, #ffffff, #fffde7);
        }

        .scenario-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            border-bottom: 2px dashed #ffe082;
            padding-bottom: 15px;
        }

        .scenario-title {
            font-weight: 900;
            color: var(--brand-color);
            font-size: 1.4em;
        }

        /* é¡Œç›®å¡ç‰‡ */
        .question-card {
            background-color: #fff;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 15px;
            border: 2px solid #f5f5f5;
            transition: all 0.3s;
            position: relative;
        }

        .question-card:focus-within {
            border-color: var(--brand-color);
            box-shadow: 0 8px 20px rgba(255, 111, 0, 0.15);
            transform: translateY(-3px);
            z-index: 10;
        }

        .question-text {
            font-weight: 700;
            font-size: 1.15em;
            margin-bottom: 15px;
            display: block;
            color: #4e342e;
        }

        .point-badge {
            display: inline-block;
            background-color: var(--text-color);
            color: #fff;
            font-size: 0.75em;
            padding: 4px 12px;
            border-radius: 20px;
            margin-left: 10px;
            vertical-align: middle;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        input[type="text"] {
            width: 100%;
            padding: 16px;
            margin-top: 5px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1.1em;
            box-sizing: border-box;
            background-color: #fafafa;
            transition: all 0.3s;
            -webkit-appearance: none;
            color: #333;
            font-weight: 500;
        }

        input[type="text"]:focus {
            border-color: var(--brand-color);
            background-color: #fff;
            outline: none;
        }

        /* æŒ‰éˆ• */
        .btn {
            display: block;
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #ff8f00, #ff6f00);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.3em;
            font-weight: 900;
            cursor: pointer;
            margin-top: 40px;
            transition: transform 0.1s, box-shadow 0.3s;
            box-shadow: 0 10px 20px rgba(255, 111, 0, 0.3);
            user-select: none;
            letter-spacing: 1px;
        }

        .btn:active {
            transform: scale(0.98);
            box-shadow: 0 5px 10px rgba(255, 111, 0, 0.2);
        }

        .btn-next {
            background: linear-gradient(135deg, #43a047, #2e7d32);
            box-shadow: 0 10px 20px rgba(46, 125, 50, 0.3);
            display: none;
        }
        
        /* å›é¥‹èˆ‡çµæœ */
        .feedback {
            margin-top: 15px;
            font-weight: bold;
            padding: 15px;
            border-radius: 10px;
            display: none;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correct {
            background-color: #e8f5e9;
            color: #1b5e20;
            border-left: 6px solid var(--success-color);
        }

        .incorrect {
            background-color: #ffebee;
            color: #b71c1c;
            border-left: 6px solid var(--error-color);
        }

        .result-screen {
            text-align: center;
            display: none;
            padding: 40px 20px;
        }

        .score-display {
            font-size: 5em;
            font-weight: 900;
            color: var(--brand-color);
            margin: 20px 0;
            text-shadow: 4px 4px 0px rgba(255, 202, 40, 0.2);
        }

        .badge {
            font-size: 8em;
            margin-bottom: 20px;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        @media (max-width: 600px) {
            .container { padding: 20px; border-radius: 0; min-height: 100vh; }
            h1 { font-size: 1.8em; }
            .scenario-image-container { height: 200px; }
            .btn { font-size: 1.1em; padding: 15px; }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="quiz-screen">
        <h1>ğŸ« æ ¡åœ’æ„›å¿ƒåœ’éŠæœƒ</h1>
        <p class="subtitle">å°å°åŸ·è¡Œé•·çš„çµ‚æ¥µæŒ‘æˆ°ä»»å‹™</p>
        
        <div class="progress-container">
            <span class="progress-label" id="progress-text">Level 1/10</span>
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
        </div>

        <div id="quiz-content">
            <!-- é¡Œç›®å…§å®¹å‹•æ…‹è¼‰å…¥ -->
        </div>

        <button class="btn" id="submit-btn" onclick="checkAnswers()">é€å‡ºæ±ºç­–</button>
        <button class="btn btn-next" id="next-btn" onclick="nextQuestion()">é€²å…¥ä¸‹ä¸€éšæ®µ â”</button>
    </div>

    <div id="result-screen" class="result-screen">
        <div class="badge" id="result-badge">ğŸ…</div>
        <h2 style="color: #3e2723; margin-bottom: 10px; font-size: 2em;">åŸ·è¡Œé•·ä»»å‹™å ±å‘Š</h2>
        <p style="font-size: 1.2em; color: #795548;">ä½ çš„æœ€çµ‚å¾—åˆ†æ˜¯ï¼š</p>
        <div class="score-display" id="final-score">0 / 100</div>
        <p id="result-comment" style="font-size: 1.4em; font-weight: bold; color: var(--brand-color); margin-bottom: 40px;"></p>
        <button class="btn" onclick="location.reload()">é‡æ–°æŒ‘æˆ°åœ’éŠæœƒ</button>
    </div>
</div>

<script>
    // é¡Œç›®è³‡æ–™åº« (é€£è²«æ•…äº‹ï¼šæ ¡åœ’æ„›å¿ƒåœ’éŠæœƒ)
    // çµ‚æ¥µé›£åº¦ï¼šç„¡æç¤ºã€éœ€é‚è¼¯æ¨ç†ã€å¤šæ­¥é©Ÿè¨ˆç®—
    const quizData = [
        {
            title: "éšæ®µä¸€ï¼šç­ç´šåŸºé‡‘çš„ç›¤é»",
            image: "https://images.unsplash.com/photo-1580519542369-3438e12d193e?auto=format&fit=crop&w=800&q=80",
            story: "ä½ æ˜¯åœ’éŠæœƒçš„åŸ·è¡Œé•·å°æ˜ï¼Œé¦–å…ˆè¦æ¸…é»ç­ä¸Šçš„å•Ÿå‹•åŸºé‡‘ã€‚ä¿éšªç®±è£¡æœ‰åƒå…ƒéˆ”ç¥¨ã€ç™¾å…ƒéˆ”ç¥¨å’Œåå…ƒç¡¬å¹£ã€‚<br>å·²çŸ¥æ¢ä»¶å¦‚ä¸‹ï¼š<br>1. ã€Œåƒå…ƒéˆ”ç¥¨ã€çš„å¼µæ•¸æ˜¯ 5 å¼µã€‚<br>2. ã€Œç™¾å…ƒéˆ”ç¥¨ã€çš„ç¸½åƒ¹å€¼ï¼Œå‰›å¥½ç­‰æ–¼ 3 å¼µåƒå…ƒéˆ”ç¥¨çš„åƒ¹å€¼ã€‚<br>3. ã€Œåå…ƒç¡¬å¹£ã€çš„ç¸½åƒ¹å€¼ï¼Œå‰›å¥½æ˜¯ 1 å¼µç™¾å…ƒéˆ”ç¥¨çš„ä¸€åŠã€‚",
            questions: [
                { text: "è«‹å•ä¿éšªç®±è£¡ï¼Œã€Œç™¾å…ƒéˆ”ç¥¨ã€å…±æœ‰å¹¾å¼µï¼Ÿ", answer: "30", type: "number" },
                { text: "è«‹å•ä¿éšªç®±è£¡ï¼Œã€Œåå…ƒç¡¬å¹£ã€å…±æœ‰å¹¾å€‹ï¼Ÿ", answer: "5", type: "number" },
                { text: "è«‹è¨ˆç®—ç­ç´šåŸºé‡‘çš„ã€Œç¸½é‡‘é¡ã€æ˜¯å¤šå°‘å…ƒï¼Ÿ", answer: "8050", type: "number" }
            ]
        },
        {
            title: "éšæ®µäºŒï¼šç‰¹èª¿é£²å“çš„ç ”ç™¼",
            image: "https://images.unsplash.com/photo-1544145945-f90425340c7e?auto=format&fit=crop&w=800&q=80",
            story: "ç‚ºäº†å¸å¼•é¡§å®¢ï¼Œä½ ç ”ç™¼äº†ä¸€æ¬¾ã€Œå½©è™¹æ°£æ³¡é£²ã€ã€‚<br>é€™æ¬¾é£²æ–™çš„èª¿é…æ¯”ä¾‹éå¸¸åš´æ ¼ï¼š<br>â— åŸºåº•ç´…èŒ¶ï¼š2 å…¬å‡ã€‚<br>â— é®®å¥¶ï¼šç”¨é‡å‰›å¥½æ˜¯ç´…èŒ¶çš„ä¸€åŠã€‚<br>â— ç¥ç§˜ç³–æ¼¿ï¼š150 æ¯«å‡ã€‚<br>ä½ è¦å°‡é€™äº›ææ–™å…¨éƒ¨å€’å…¥ä¸€å€‹å®¹é‡ç‚º 3 å…¬å‡çš„å¤§å£ºä¸­æ”ªæ‹Œã€‚",
            questions: [
                { text: "è«‹å•é®®å¥¶çš„ç”¨é‡æ˜¯å¤šå°‘æ¯«å‡ï¼Ÿ", answer: "1000", type: "number" },
                { text: "å°‡ç´…èŒ¶ã€é®®å¥¶ã€ç³–æ¼¿æ··åˆå¾Œï¼Œé£²æ–™çš„ç¸½é«”ç©æ˜¯å¤šå°‘æ¯«å‡ï¼Ÿ", answer: "3150", type: "number" },
                { text: "å°‡èª¿å¥½çš„é£²æ–™å€’å…¥å¤§å£ºå¾Œï¼Œæœƒæº¢å‡ºå¤šå°‘æ¯«å‡ï¼Ÿ", answer: "150", type: "number" }
            ]
        },
        {
            title: "éšæ®µä¸‰ï¼šçå“çš„æ¡è³¼ç­–ç•¥",
            image: "https://images.unsplash.com/photo-1513885535751-8b9238bd345a?auto=format&fit=crop&w=800&q=80",
            story: "ä½ è¦å»æ‰¹ç™¼å¸‚å ´è³¼è²·å¥—åœˆåœˆéŠæˆ²çš„çå“ã€‚é ç®—ä¸Šé™æ˜¯ 5000 å…ƒã€‚<br>è€é—†å ±åƒ¹å¦‚ä¸‹ï¼š<br>â— A æ–¹æ¡ˆï¼šè³¼è²· 3 éš»å¤§ç†Šç©å¶ï¼Œç¸½å…±è¦åƒ¹ 2400 å…ƒã€‚<br>â— B æ–¹æ¡ˆï¼šè³¼è²· 1 éš»æ©Ÿå™¨äººï¼Œè¦åƒ¹ 1500 å…ƒã€‚<br>ä½ æ±ºå®šè³¼è²·ã€Œ2 éš»å¤§ç†Šç©å¶ã€å’Œã€Œ2 éš»æ©Ÿå™¨äººã€ã€‚",
            questions: [
                { text: "è«‹å• 1 éš»å¤§ç†Šç©å¶çš„å–®åƒ¹æ˜¯å¤šå°‘å…ƒï¼Ÿ", answer: "800", type: "number" },
                { text: "è«‹å•è³¼è²·ä¸Šè¿°æ±ºå®šå¥½çš„çå“ï¼Œç¸½å…±éœ€è¦æ”¯ä»˜å¤šå°‘å…ƒï¼Ÿ", answer: "4600", type: "number" },
                { text: "çµå¸³å¾Œï¼Œä½ çš„é ç®—é‚„å‰©ä¸‹å¤šå°‘å…ƒï¼Ÿ", answer: "400", type: "number" }
            ]
        },
        {
            title: "éšæ®µå››ï¼šæ‰‹å·¥é¤…ä¹¾çš„éŠ·å”®",
            image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?auto=format&fit=crop&w=800&q=80",
            story: "åœ’éŠæœƒé–‹å§‹äº†ï¼æ‰‹å·¥é¤…ä¹¾æ”¤ä½å‚³ä¾†æ·å ±ã€‚<br>ä¸Šåˆè³£å‡ºäº† 15 åŒ…é¤…ä¹¾ã€‚<br>ä¸‹åˆé›–ç„¶äººæ½®è®Šå°‘ï¼Œè³£å‡ºçš„æ•¸é‡æ¯”ä¸Šåˆå°‘äº† 5 åŒ…ã€‚<br>çµç®—æ™‚ç™¼ç¾ï¼Œæ•´å¤©è³£é¤…ä¹¾çš„ã€Œç¸½æ”¶å…¥ã€æ˜¯ 2500 å…ƒã€‚",
            questions: [
                { text: "è«‹å•ä¸‹åˆè³£å‡ºäº†å¹¾åŒ…é¤…ä¹¾ï¼Ÿ", answer: "10", type: "number" },
                { text: "è«‹å•æ•´å¤©ç¸½å…±è³£å‡ºäº†å¹¾åŒ…é¤…ä¹¾ï¼Ÿ", answer: "25", type: "number" },
                { text: "è«‹æ¨ç®—ä¸€åŒ…æ‰‹å·¥é¤…ä¹¾çš„å”®åƒ¹æ˜¯å¤šå°‘å…ƒï¼Ÿ", answer: "100", type: "number" }
            ]
        },
        {
            title: "éšæ®µäº”ï¼šè£œæ°´ç«™çš„å®¹å™¨é¸æ“‡",
            image: "https://images.unsplash.com/photo-1521406830500-1c0b3b49914c?auto=format&fit=crop&w=800&q=80",
            story: "å¤©æ°£ç‚ç†±ï¼Œä½ éœ€è¦ç·Šæ€¥æ”¯æ´è£œæ°´ç«™ã€‚å€‰åº«è£¡æœ‰ä¸‰å€‹æ°´æ¡¶ï¼Œæ¨™ç±¤æœ‰äº›ç£¨æï¼Œä¾ç¨€å¯è¦‹ï¼š<br>â— A æ¡¶ï¼šå®¹é‡ 2050 æ¯«å‡ã€‚<br>â— B æ¡¶ï¼šå®¹é‡ 2 å…¬å‡ 80 æ¯«å‡ã€‚<br>â— C æ¡¶ï¼šå®¹é‡ 2 å…¬å‡ï¼Œä½†ä¹‹å‰ç ´æ´æ¼æ‰äº† 50 æ¯«å‡ã€‚",
            questions: [
                { text: "è«‹å°‡ B æ¡¶çš„å®¹é‡æ›ç®—æˆæ¯«å‡ã€‚", answer: "2080", type: "number" },
                { text: "è«‹è¨ˆç®— C æ¡¶ç¾åœ¨å¯¦éš›å‰©é¤˜çš„å®¹é‡æ˜¯å¤šå°‘æ¯«å‡ï¼Ÿ", answer: "1950", type: "number" },
                { text: "è«‹å•å“ªä¸€å€‹æ¡¶å­çš„å®¹é‡æœ€å¤§ï¼Ÿ", answer: "B", type: "text" }
            ]
        },
        {
            title: "éšæ®µå…­ï¼šæ‘¸å½©åˆ¸çš„ç¥ç¥•è™Ÿç¢¼",
            image: "https://images.unsplash.com/photo-1606166325683-e6ebea472e39?auto=format&fit=crop&w=800&q=80",
            story: "æ´»å‹•é«˜æ½®æ˜¯å¹¸é‹æ‘¸å½©ï¼æ‘¸å½©åˆ¸çš„ç·¨è™Ÿæ˜¯å¾ 1001 è™Ÿé–‹å§‹ç™¼æ”¾ï¼Œä¸€ç›´ç™¼åˆ° 1050 è™Ÿã€‚<br>ä¸­çè¦å‰‡å¾ˆç‰¹æ®Šï¼š<br>ã€Œåä½æ•¸å¿…é ˆæ˜¯ 3ï¼Œä¸”å€‹ä½æ•¸å¿…é ˆæ˜¯å¥‡æ•¸ã€‚ã€<br>ç¬¦åˆé€™å…©å€‹æ¢ä»¶çš„è™Ÿç¢¼æ‰èƒ½é ˜çã€‚",
            questions: [
                { text: "åœ¨æ‰€æœ‰ç™¼å‡ºçš„è™Ÿç¢¼ä¸­ï¼Œæœ€å°çš„ä¸­çè™Ÿç¢¼æ˜¯å¤šå°‘ï¼Ÿ", answer: "1031", type: "number" },
                { text: "åœ¨æ‰€æœ‰ç™¼å‡ºçš„è™Ÿç¢¼ä¸­ï¼Œæœ€å¤§çš„ä¸­çè™Ÿç¢¼æ˜¯å¤šå°‘ï¼Ÿ", answer: "1039", type: "number" },
                { text: "è«‹å•ç¸½å…±æœ‰å¹¾ä½å¹¸é‹å…’å¯ä»¥é ˜çï¼Ÿ", answer: "5", type: "number" }
            ]
        },
        {
            title: "éšæ®µä¸ƒï¼šé£²æ–™åˆ†è£çš„é›£é¡Œ",
            image: "https://images.unsplash.com/photo-1546173159-315724a31696?auto=format&fit=crop&w=800&q=80",
            story: "æ”¤ä½ä¸Šå‰©ä¸‹äº†å…©å£ºæœæ±ã€‚<br>â— ç”²å£ºï¼šé‚„æœ‰ 1 å…¬å‡ 500 æ¯«å‡ã€‚<br>â— ä¹™å£ºï¼šé‚„æœ‰ 900 æ¯«å‡ã€‚<br>ç‚ºäº†æ–¹ä¾¿æ”¶æ‹¾ï¼Œä½ è¦æŠŠç”²å£ºè£¡é¢ã€Œä¸€åŠã€çš„æœæ±å€’é€²ä¹™å£ºè£¡ã€‚",
            questions: [
                { text: "è«‹å•å€’é€²ä¹™å£ºçš„æœæ±æ˜¯å¤šå°‘æ¯«å‡ï¼Ÿ", answer: "750", type: "number" },
                { text: "å€’å®Œä¹‹å¾Œï¼Œä¹™å£ºç¾åœ¨ç¸½å…±æœ‰å¤šå°‘æ¯«å‡çš„æœæ±ï¼Ÿ", answer: "1650", type: "number" },
                { text: "å€’å®Œä¹‹å¾Œï¼Œç¾åœ¨ä¹™å£ºæ¯”ç”²å£ºå¤šäº†å¤šå°‘æ¯«å‡ï¼Ÿ", answer: "900", type: "number" }
            ]
        },
        {
            title: "éšæ®µå…«ï¼šæ„›å¿ƒææ¬¾çš„ç›®æ¨™",
            image: "https://images.unsplash.com/photo-1579621970563-ebec7560eb3e?auto=format&fit=crop&w=800&q=80",
            story: "é€™æ¬¡åœ’éŠæœƒçš„ç›®æ¨™æ˜¯ææ¬¾ 8000 å…ƒçµ¦å­¤å…’é™¢ã€‚<br>æœƒè¨ˆåŒå­¸æ­£åœ¨è¨ˆç®—ç›®å‰çš„åˆ©æ½¤ï¼š<br>â— ä¸Šåˆåˆ©æ½¤ï¼š3200 å…ƒã€‚<br>â— ä¸‹åˆåˆ©æ½¤ï¼šåªæœ‰ä¸Šåˆåˆ©æ½¤çš„ä¸€åŠã€‚<br>å¤§å®¶éƒ½å¾ˆç·Šå¼µï¼Œä¸çŸ¥é“æœ‰æ²’æœ‰é”æˆç›®æ¨™ã€‚",
            questions: [
                { text: "è«‹å•ä¸‹åˆçš„åˆ©æ½¤æ˜¯å¤šå°‘å…ƒï¼Ÿ", answer: "1600", type: "number" },
                { text: "è«‹å•æ•´å¤©ä¸‹ä¾†çš„ç¸½åˆ©æ½¤æ˜¯å¤šå°‘å…ƒï¼Ÿ", answer: "4800", type: "number" },
                { text: "è·é›¢ 8000 å…ƒçš„ææ¬¾ç›®æ¨™ï¼Œé‚„å·®å¤šå°‘å…ƒï¼Ÿ", answer: "3200", type: "number" }
            ]
        },
        {
            title: "éšæ®µä¹ï¼šå¤–é€è¨‚å–®çš„è·¯ç·š",
            image: "https://images.unsplash.com/photo-1586769852044-692d6e3703f0?auto=format&fit=crop&w=800&q=80",
            story: "æ´»å‹•çµæŸå¾Œï¼Œä½ è¦å¹«å¿™é€æœ€å¾Œä¸€æ‰¹æ„›å¿ƒä¾¿ç•¶ã€‚<br>è·¯ç·šè¦åŠƒå¦‚ä¸‹ï¼š<br>1. å¾å­¸æ ¡å‡ºç™¼ï¼Œé¨ 1 å…¬é‡Œ 200 å…¬å°ºåˆ°é”ç¤¾å€ä¸­å¿ƒã€‚<br>2. æ¥è‘—å¾ç¤¾å€ä¸­å¿ƒå‡ºç™¼ï¼Œé¨ 850 å…¬å°ºåˆ°é”é¤Šè€é™¢ã€‚<br>3. é€å®Œå¾Œï¼ŒåŸè·¯æŠ˜è¿”å›åˆ°å­¸æ ¡ã€‚",
            questions: [
                { text: "è«‹å•å¾å­¸æ ¡åˆ°ç¤¾å€ä¸­å¿ƒçš„è·é›¢æ˜¯å¤šå°‘å…¬å°ºï¼Ÿ", answer: "1200", type: "number" },
                { text: "å¾å­¸æ ¡å‡ºç™¼ï¼Œç¶“éç¤¾å€ä¸­å¿ƒåˆ°é¤Šè€é™¢ï¼Œå–®è¶Ÿç¸½å…±é¨äº†å¤šå°‘å…¬å°ºï¼Ÿ", answer: "2050", type: "number" },
                { text: "è«‹å•å®Œæˆé€™è¶Ÿé€é¤ä»»å‹™å›åˆ°å­¸æ ¡ï¼Œç¸½å…±é¨äº†å¤šå°‘å…¬å°ºï¼Ÿ", answer: "4100", type: "number" }
            ]
        },
        {
            title: "éšæ®µåï¼šæœ€çµ‚çµç®—å¤§è€ƒé©—",
            image: "https://images.unsplash.com/photo-1554224154-26032ffc0d07?auto=format&fit=crop&w=800&q=80",
            story: "çµ‚æ–¼åˆ°äº†æœ€å¾Œçµç®—æ™‚åˆ»ï¼è«‹ä½ æ‹¿å‡ºè¨ˆç®—æ©Ÿèˆ¬çš„å¤§è…¦ã€‚<br>â— ç¸½ç‡Ÿæ¥­é¡(æ”¶å…¥)ï¼š9500 å…ƒã€‚<br>â— æˆæœ¬æ”¯å‡ºï¼šé£Ÿæè²» 3000 å…ƒã€å ´åœ°ä½ˆç½®è²» 1500 å…ƒã€‚<br>å…¨ç­æ±ºå®šå°‡ã€Œæ‰€æœ‰çš„æ·¨åˆ©æ½¤ã€éƒ½æå‡ºå»ã€‚",
            questions: [
                { text: "è«‹è¨ˆç®—é€™æ¬¡åœ’éŠæœƒçš„ç¸½æˆæœ¬æ˜¯å¤šå°‘å…ƒï¼Ÿ", answer: "4500", type: "number" },
                { text: "è«‹å•æ‰£é™¤æˆæœ¬å¾Œï¼Œæœ€å¾Œæå‡ºçš„æ·¨åˆ©æ½¤æ˜¯å¤šå°‘å…ƒï¼Ÿ", answer: "5000", type: "number" },
                { text: "å¦‚æœéš”å£ç­çš„ææ¬¾ç›®æ¨™æ˜¯ 6000 å…ƒï¼Œä½ å€‘ç­çš„ææ¬¾æ¯”ä»–å€‘å°‘äº†å¤šå°‘å…ƒï¼Ÿ", answer: "1000", type: "number" }
            ]
        }
    ];

    let currentSetIndex = 0;
    let score = 0;

    function loadQuiz() {
        const content = document.getElementById('quiz-content');
        const progressBar = document.getElementById('progress');
        const progressText = document.getElementById('progress-text');
        const set = quizData[currentSetIndex];

        // æ›´æ–°é€²åº¦æ¢
        const progressPercent = ((currentSetIndex) / quizData.length) * 100;
        progressBar.style.width = progressPercent + '%';
        progressText.innerText = `Mission ${currentSetIndex + 1}/${quizData.length}`;

        // è¼‰å…¥é¡Œç›® HTML
        let html = `
            <div class="scenario-box">
                <div class="scenario-image-container">
                    <img src="${set.image}" class="scenario-image" alt="æƒ…å¢ƒåœ–ç¤º" onerror="this.src='https://via.placeholder.com/800x400?text=Image+Load+Error'">
                </div>
                <div class="scenario-content">
                    <div class="scenario-header">
                        <div class="scenario-title">${set.title}</div>
                    </div>
                    ${set.story}
                </div>
            </div>
        `;

        set.questions.forEach((q, index) => {
            // é…åˆ†é‚è¼¯ï¼šç¬¬1ã€2é¡Œå„3åˆ†ï¼Œç¬¬3é¡Œ4åˆ†
            let pts = 3;
            if (index === 2) pts = 4;

            html += `
                <div class="question-card" id="card-${index}">
                    <label class="question-text">
                        Q${index+1}. ${q.text} 
                        <span class="point-badge">${pts} åˆ†</span>
                    </label>
                    <input type="text" id="answer-${index}" placeholder="è«‹è¼¸å…¥ç­”æ¡ˆ..." autocomplete="off">
                    <div class="feedback" id="feedback-${index}"></div>
                </div>
            `;
        });

        content.innerHTML = html;
        document.getElementById('submit-btn').style.display = 'block';
        document.getElementById('next-btn').style.display = 'none';
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // æ¸…ç†è¼¸å…¥å­—ä¸² (ç§»é™¤å–®ä½ã€ç©ºæ ¼ã€é€—è™Ÿ)
    function cleanInput(str) {
        if(!str) return "";
        let s = str.toString().replace(/\s+/g, ''); // ç§»é™¤ç©ºæ ¼
        s = s.replace(/ï¼Œ/g, ','); // å…¨å½¢é€—è™Ÿè½‰åŠå½¢
        s = s.replace(/(å…ƒ|å…¬å‡|æ¯«å‡|å…¬å°º|å…¬åˆ†|å…¬é‡Œ|å…¬æ–¤|å…¬å…‹|é»|äºº|ç®±|ç›|é¡†|å¼µ|å€‹|ç™¼|æ™‚|åˆ†|é»|éš»|åŒ…|è™Ÿ|ä½)/g, ''); // ç§»é™¤å¸¸è¦‹ä¸­æ–‡å–®ä½
        return s.toUpperCase();
    }

    function checkAnswers() {
        const set = quizData[currentSetIndex];
        
        set.questions.forEach((q, index) => {
            const inputEl = document.getElementById(`answer-${index}`);
            const userInput = inputEl.value;
            const feedbackEl = document.getElementById(`feedback-${index}`);
            
            const cleanedUserAnswer = cleanInput(userInput);
            const cleanedCorrectAnswer = cleanInput(q.answer);

            let isCorrect = false;
            // æª¢æŸ¥é‚è¼¯ï¼šç›´æ¥ç›¸ç­‰ æˆ– ç§»é™¤é€—è™Ÿå¾Œç›¸ç­‰
            if (cleanedUserAnswer === cleanedCorrectAnswer) {
                isCorrect = true;
            } 
            else if (cleanedUserAnswer.replace(/,/g, '') === cleanedCorrectAnswer.replace(/,/g, '')) {
                isCorrect = true;
            }

            // é…åˆ†è¨ˆç®—
            let points = 3;
            if (index === 2) points = 4;

            if (isCorrect) {
                feedbackEl.innerHTML = `âœ… æ±ºç­–æ­£ç¢ºï¼ (+${points}åˆ†)`;
                feedbackEl.className = "feedback correct";
                feedbackEl.style.display = "block";
                score += points;
            } else {
                feedbackEl.innerHTML = `âŒ æ±ºç­–å¤±èª¤ï¼æ­£ç¢ºæ•¸æ“šæ˜¯ï¼š${q.answer}`;
                feedbackEl.className = "feedback incorrect";
                feedbackEl.style.display = "block";
            }
            
            // é–å®šè¼¸å…¥æ¡†
            inputEl.disabled = true;
        });

        document.getElementById('submit-btn').style.display = 'none';
        document.getElementById('next-btn').style.display = 'block';
    }

    function nextQuestion() {
        currentSetIndex++;
        if (currentSetIndex < quizData.length) {
            loadQuiz();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        
        const finalScoreEl = document.getElementById('final-score');
        const commentEl = document.getElementById('result-comment');
        const badgeEl = document.getElementById('result-badge');

        const maxScore = 100;
        finalScoreEl.innerText = `${score} / ${maxScore}`;

        if (score >= 90) {
            badgeEl.innerText = "ğŸ†";
            commentEl.innerText = "å¤ªç¥äº†ï¼ä½ æ˜¯å‚³èªªç´šçš„åŸ·è¡Œé•·ï¼";
        } else if (score >= 80) {
            badgeEl.innerText = "ğŸ¥‡";
            commentEl.innerText = "éå¸¸å„ªç§€ï¼åœ’éŠæœƒå¤§ç²æˆåŠŸï¼";
        } else if (score >= 60) {
            badgeEl.innerText = "ğŸ¥ˆ";
            commentEl.innerText = "åšå¾—ä¸éŒ¯ï¼æˆæœ¬æ§åˆ¶å¯ä»¥å†åŠ å¼·ï¼";
        } else {
            badgeEl.innerText = "ğŸ’ª";
            commentEl.innerText = "åˆ¥ç°å¿ƒï¼Œç´¯ç©ç¶“é©—ï¼Œä¸‹æ¬¡æœƒæ›´å¥½ï¼";
        }
    }

    // åˆå§‹åŒ–
    loadQuiz();

</script>

</body>

</html>
